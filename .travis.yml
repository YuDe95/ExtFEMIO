language: C++
dist: xenial
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-8
      - cmake-data
      - cmake
    env:
      - MATRIX_EVAL="CC=gcc-8 && CXX=g++-8"
install:
  - python3 -mpip install --user py jinja2
before_install:
  - eval "${MATRIX_EVAL}"
script: CC=gcc-8 CXX=g++-8 cmake . && make && make test
